"use strict";!function(n){function t(){var i=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];n("body").hasClass("advisors-detail-open")&&(i&&history.pushState(null,null,window.location.href.split("#")[0]),document.title=d,n("body").removeClass("advisors-detail-open"))}function a(i,o){var e,t=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=s(i);a&&(o.find(".advisor-name").text(a.name),a.title?o.find(".advisor-title").show().text(a.title):o.find(".advisor-title").hide(),a.email||a.phone?o.find(".advisor-contact").show():o.find(".advisor-contact").hide(),a.email?(o.find(".advisor-email").show(),o.find(".advisor-email a").text(a.email),o.find(".advisor-email a").attr("href","mailto:"+a.email)):o.find(".advisor-email").hide(),a.phone?(o.find(".advisor-phone").show(),o.find(".advisor-phone a").text(a.phone),o.find(".advisor-phone a").attr("href","tel:"+a.phone)):o.find(".advisor-phone").hide(),a.bio?o.find(".advisor-bio").show().html(a.bio):o.find(".advisor-bio").hide(),a.images?(o.find(".detail-image").show().attr("data-image","1"),o.find(".detail-image-wrap").html(a.images.join("")),e="",1<a.images.length?(e=a.images.map(function(i,o){return'<a href="#image-'+(o+1)+'" class="image-link" data-image="'+(o+1)+'">'+i+"</a>"}),o.find(".images").show().html(e)):o.find(".images").hide()):o.find(".detail-image").hide(),a.below_photo?(o.find(".below-photo-title, .below-photo-description").show(),a.below_photo.title?o.find(".below-photo-title").text(a.below_photo.title):o.find(".below-photo-title").hide(),a.below_photo.description?o.find(".below-photo-description").text(a.below_photo.description):o.find(".below-photo-description").hide()):o.find(".below-photo-title, .below-photo-description").hide(),n("body").addClass("advisors-detail-open"),document.title=a.name+" - "+d,t&&history.pushState(null,a.name,"#advisordetails-"+i))}var d=document.title,s=(window.location.href,function(o){if(!window.advisorDetails)return!1;var i=window.advisorDetails.filter(function(i){return i.id===o});return!!i&&i[0]}),e=function(i){var o=i.find(".detail-image"),e=i.find(".advisor-details");window.onpopstate=function(i){var o;document.location.hash?(o=document.location.hash.replace("#advisordetails-",""),a(parseInt(o),e,!1)):t(!1)},n("body").on("keyup",function(i){console.log("keyup",i.key),"Escape"===i.key&&t()}),i.on("click.rmg",".image-link",function(i){i.preventDefault(),o.attr("data-image",n(this).data("image"))}).on("click.rmg","a[data-advisorid]",function(i){i.preventDefault();i=n(this).data("advisorid");a(i,e)}).on("click.rmg",".close-details",function(i){i.preventDefault(),t()}).on("click.rmg",".advisor-details",function(i){i.target.classList.contains("advisor-details")&&t()}),document.location.hash&&(i=document.location.hash.replace("#advisordetails-",""),a(parseInt(i),e))};n(function(){window.acf&&window.acf.addAction("render_block_preview/type=rmgadvisors",function(i,o){e(i)}),n(".acf-block-rmgadvisors").each(function(i,o){e(n(o))})})}(jQuery);